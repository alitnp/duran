import Head from 'next/head';
import Layout from 'components/Layout/Layout';
import PageTitle from 'components/Home/PageTitle/PageTitle';
import CategoryBar from 'components/Home/CategoryBar/CategoryBar';
import FeaturedWrapper from 'components/Home/Featured/FeaturedWrapper';
import ProductLinkWrapper from 'components/Home/ProductLink/ProductLinkWrapper';
import BrandsWrapper from 'components/Home/BrandsWrapper/BrandsWrapper';
import ProductsRow from 'components/Global/ProductsRow/ProductsRow';
import { useSelector } from 'react-redux';
import { useEffect } from 'react';
import { useDispatch } from 'react-redux';
import { getNewProducts } from 'redux/middlewares/home/getNewProducts';

export default function Home() {
	//states
	const { newProducts } = useSelector((state) => state.home);
	console.log(newProducts);
	//hooks
	const dispatch = useDispatch();

	//effects
	useEffect(() => {
		!newProducts && dispatch(getNewProducts());
	}, []);

	return (
		<>
			<Head>
				<title>Duran Shop</title>
				<meta name='description' content='Generated by create next app' />
			</Head>
			<Layout>
				<PageTitle className='mt-4 h-96' />
				<CategoryBar />
				<FeaturedWrapper />
				<ProductLinkWrapper />
				<BrandsWrapper />
				<ProductsRow name='جدیدترین' list={newProducts || []} />
				{/* <Slider /> */}
			</Layout>
		</>
	);
}
